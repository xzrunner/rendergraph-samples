{
    "nodes": [
        [
            {
                "position": [
                    -333.6001281738281,
                    60.33843994140625
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::ztest",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node0",
                    "func": "lequal",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": []
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": []
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -79.93618774414063,
                    64.72552490234375
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::clear",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node1",
                    "type": [
                        "color",
                        "depth"
                    ],
                    "color": {
                        "r": 128,
                        "g": 128,
                        "b": 128,
                        "a": 255
                    },
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 2,
                                "pin": "prev"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 2,
                                "pin": "prev"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    59.75,
                    54.0
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::bind",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node2",
                    "channel": 0,
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 4,
                                "pin": "prev"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 4,
                                "pin": "prev"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -68.73159790039063,
                    -135.592041015625
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::shader",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node3",
                    "vert": "#version 330 core\\nlayout (location = 0) in vec3 aPos;\\nlayout (location = 1) in vec3 aNormal;\\nlayout (location = 2) in vec2 aTexCoords;\\nlayout (location = 3) in vec3 aTangent;\\nlayout (location = 4) in vec3 aBitangent;\\n\\nout VS_OUT {\\n    vec3 FragPos;\\n    vec2 TexCoords;\\n    vec3 TangentLightPos;\\n    vec3 TangentViewPos;\\n    vec3 TangentFragPos;\\n} vs_out;\\n\\nuniform mat4 projection;\\nuniform mat4 view;\\nuniform mat4 model;\\n\\nuniform vec3 lightPos;\\nuniform vec3 viewPos;\\n\\nvoid main()\\n{\\n    vs_out.FragPos = vec3(model * vec4(aPos, 1.0));   \\n    vs_out.TexCoords = aTexCoords;   \\n    \\n    vec3 T = normalize(mat3(model) * aTangent);\\n    vec3 B = normalize(mat3(model) * aBitangent);\\n    vec3 N = normalize(mat3(model) * aNormal);\\n    mat3 TBN = transpose(mat3(T, B, N));\\n\\n    vs_out.TangentLightPos = TBN * lightPos;\\n    vs_out.TangentViewPos  = TBN * viewPos;\\n    vs_out.TangentFragPos  = TBN * vs_out.FragPos;\\n    \\n    gl_Position = projection * view * model * vec4(aPos, 1.0);\\n}",
                    "frag": "#version 330 core\\nout vec4 FragColor;\\n\\nin VS_OUT {\\n    vec3 FragPos;\\n    vec2 TexCoords;\\n    vec3 TangentLightPos;\\n    vec3 TangentViewPos;\\n    vec3 TangentFragPos;\\n} fs_in;\\n\\nuniform sampler2D diffuseMap;\\nuniform sampler2D normalMap;\\nuniform sampler2D depthMap;\\n\\nuniform float heightScale;\\n\\nvec2 ParallaxMapping(vec2 texCoords, vec3 viewDir)\\n{ \\n    // number of depth layers\\n    const float minLayers = 8;\\n    const float maxLayers = 32;\\n    float numLayers = mix(maxLayers, minLayers, abs(dot(vec3(0.0, 0.0, 1.0), viewDir)));  \\n    // calculate the size of each layer\\n    float layerDepth = 1.0 / numLayers;\\n    // depth of current layer\\n    float currentLayerDepth = 0.0;\\n    // the amount to shift the texture coordinates per layer (from vector P)\\n    vec2 P = viewDir.xy / viewDir.z * heightScale; \\n    vec2 deltaTexCoords = P / numLayers;\\n  \\n    // get initial values\\n    vec2  currentTexCoords     = texCoords;\\n    float currentDepthMapValue = texture(depthMap, currentTexCoords).r;\\n      \\n    while(currentLayerDepth < currentDepthMapValue)\\n    {\\n        // shift texture coordinates along direction of P\\n        currentTexCoords -= deltaTexCoords;\\n        // get depthmap value at current texture coordinates\\n        currentDepthMapValue = texture(depthMap, currentTexCoords).r;  \\n        // get depth of next layer\\n        currentLayerDepth += layerDepth;  \\n    }\\n    \\n    // get texture coordinates before collision (reverse operations)\\n    vec2 prevTexCoords = currentTexCoords + deltaTexCoords;\\n\\n    // get depth after and before collision for linear interpolation\\n    float afterDepth  = currentDepthMapValue - currentLayerDepth;\\n    float beforeDepth = texture(depthMap, prevTexCoords).r - currentLayerDepth + layerDepth;\\n \\n    // interpolation of texture coordinates\\n    float weight = afterDepth / (afterDepth - beforeDepth);\\n    vec2 finalTexCoords = prevTexCoords * weight + currentTexCoords * (1.0 - weight);\\n\\n    return finalTexCoords;\\n}\\n\\nvoid main()\\n{           \\n    // offset texture coordinates with Parallax Mapping\\n    vec3 viewDir = normalize(fs_in.TangentViewPos - fs_in.TangentFragPos);\\n    vec2 texCoords = fs_in.TexCoords;\\n    \\n    texCoords = ParallaxMapping(fs_in.TexCoords,  viewDir);       \\n    if(texCoords.x > 1.0 || texCoords.y > 1.0 || texCoords.x < 0.0 || texCoords.y < 0.0)\\n        discard;\\n\\n    // obtain normal from normal map\\n    vec3 normal = texture(normalMap, texCoords).rgb;\\n    normal = normalize(normal * 2.0 - 1.0);   \\n   \\n    // get diffuse color\\n    vec3 color = texture(diffuseMap, texCoords).rgb;\\n    // ambient\\n    vec3 ambient = 0.1 * color;\\n    // diffuse\\n    vec3 lightDir = normalize(fs_in.TangentLightPos - fs_in.TangentFragPos);\\n    float diff = max(dot(lightDir, normal), 0.0);\\n    vec3 diffuse = diff * color;\\n    // specular    \\n    vec3 reflectDir = reflect(-lightDir, normal);\\n    vec3 halfwayDir = normalize(lightDir + viewDir);  \\n    float spec = pow(max(dot(normal, halfwayDir), 0.0), 32.0);\\n\\n    vec3 specular = vec3(0.2) * spec;\\n    FragColor = vec4(ambient + diffuse + specular, 1.0);\\n}",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 2,
                                "pin": "obj"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 2,
                                "pin": "obj"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    218.75,
                    42.0
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::draw",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node4",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 11,
                                "pin": "prev"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 11,
                                "pin": "prev"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    67.72108459472656,
                    -8.719009399414063
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::primitive_shape",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node5",
                    "type": "quad",
                    "layout": "pos_norm_tex_tb",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 4,
                                "pin": "obj"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 4,
                                "pin": "obj"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -215.35191345214845,
                    -3.45733642578125
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::project_mat",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node6",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "projection"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "projection"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -206.0241241455078,
                    -47.309017181396487
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::view_mat",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node7",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "view"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "view"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -208.45314025878907,
                    -91.79644775390625
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::model_mat",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node8",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "model"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "model"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -439.65130615234377,
                    -243.0055389404297
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::texture",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node9",
                    "filepath": "resources\\textures\\bricks2.jpg",
                    "type": "2d",
                    "width": 512,
                    "height": 512,
                    "format": "rgb",
                    "wrap": "repeat",
                    "filter": "linear",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "diffuseMap"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "diffuseMap"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -313.173095703125,
                    -250.13824462890626
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::texture",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node10",
                    "filepath": "resources\\textures\\bricks2_normal.jpg",
                    "type": "2d",
                    "width": 512,
                    "height": 512,
                    "format": "rgb",
                    "wrap": "repeat",
                    "filter": "linear",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "normalMap"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "normalMap"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    337.7315979003906,
                    61.877220153808597
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::pass_end",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "",
                    "pass_end": 0,
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [],
                "connection": []
            }
        ],
        [
            {
                "position": [
                    -454.90875244140627,
                    59.745574951171878
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::zwrite",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node11",
                    "enable": true,
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 0,
                                "pin": "prev"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 0,
                                "pin": "prev"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -198.54515075683595,
                    -138.48031616210938
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::vector3",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node12",
                    "val": {
                        "x": 0.5,
                        "y": 1.0,
                        "z": 0.30000001192092898
                    },
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "lightPos"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "lightPos"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -224.5950927734375,
                    -183.00619506835938
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::camera_position",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node13",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "viewPos"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "viewPos"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -193.0391845703125,
                    -245.70933532714845
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::texture",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node14",
                    "filepath": "resources\\textures\\bricks2_disp.jpg",
                    "type": "2d",
                    "width": 512,
                    "height": 512,
                    "format": "rgb",
                    "wrap": "repeat",
                    "filter": "linear",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "depthMap"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "depthMap"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -172.76341247558595,
                    -412.0201110839844
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": ".",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::vector1",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node15",
                    "val": 0.10000000149011612,
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "heightScale"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "out",
                        "to": [
                            {
                                "node_idx": 3,
                                "pin": "heightScale"
                            }
                        ]
                    }
                ]
            }
        ],
        [
            {
                "position": [
                    -206.341552734375,
                    62.195213317871097
                ],
                "comp_type": "n2_transform"
            },
            {
                "filepath": "",
                "name": "",
                "id": 0,
                "comp_type": "n0_identity"
            },
            {
                "visible": true,
                "editable": true,
                "comp_type": "n0_flags"
            },
            {
                "node_type": "renderlab::cull",
                "node_val": {
                    "style": {
                        "only_title": false,
                        "small_title_font": false
                    },
                    "name": "node16",
                    "type": "off",
                    "props": []
                },
                "comp_type": "bp_node",
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 1,
                                "pin": "prev"
                            }
                        ]
                    }
                ],
                "connection": [
                    {
                        "from": "next",
                        "to": [
                            {
                                "node_idx": 1,
                                "pin": "prev"
                            }
                        ]
                    }
                ]
            }
        ]
    ],
    "comp_type": "n0_complex",
    "page_type": "render_graph"
}